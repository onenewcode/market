# Market - Solana ZK Identity Protocol

Market æ˜¯ä¸€ä¸ªåŸºäºŽ Solana åŒºå—é“¾çš„åŽ»ä¸­å¿ƒåŒ–èº«ä»½ï¼ˆIdentityï¼‰ä¸Žä¿¡ç”¨è¯„åˆ†ï¼ˆCredit Scoreï¼‰åè®®ã€‚è¯¥é¡¹ç›®ç»“åˆäº† Anchor æ™ºèƒ½åˆçº¦ä¸Ž React å‰ç«¯ï¼Œåˆ©ç”¨é›¶çŸ¥è¯†è¯æ˜Žï¼ˆZK Proofsï¼‰å’Œç§‘å­¦çš„è¯„åˆ†ç®—æ³•æ¥ç®¡ç†é“¾ä¸Šèº«ä»½ä¸Žä¿¡èª‰ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½ (Features)

- **èº«ä»½ç®¡ç† (Identity Management)**: ç”¨æˆ·å¯ä»¥åœ¨é“¾ä¸Šæ³¨å†Œã€éªŒè¯ã€å–æ¶ˆéªŒè¯å’Œåˆ é™¤è‡ªå·±çš„èº«ä»½è´¦æˆ·ã€‚
- **ä¿¡ç”¨è¯„åˆ† (Credit Scoring)**: åŸºäºŽé“¾ä¸Š SOL æŒæœ‰é‡è®¡ç®—ç”¨æˆ·çš„ä¿¡ç”¨åˆ†æ•°ï¼Œè¦æ±‚èº«ä»½å¿…é¡»ç»è¿‡éªŒè¯ã€‚
- **åˆ†æ•°ç®¡ç† (Score Management)**: ç”¨æˆ·å¯ä»¥è®¡ç®—ã€æ›´æ–°å’Œåˆ é™¤è‡ªå·±çš„ä¿¡ç”¨åˆ†æ•°ã€‚
- **äº‹ä»¶æ—¥å¿— (Event Logging)**: åˆçº¦ä¸­æ·»åŠ äº†å®Œæ•´çš„äº‹ä»¶æ—¥å¿—ï¼Œä¾¿äºŽå‰ç«¯å’Œç›‘æŽ§ç³»ç»Ÿè¿½è¸ªçŠ¶æ€å˜åŒ–ã€‚
- **æ¨¡å—åŒ–è®¾è®¡**: è¯„åˆ†é€»è¾‘å’Œèº«ä»½éªŒè¯é€»è¾‘åˆ†ç¦»ï¼Œä¾¿äºŽæœªæ¥æ‰©å±•å’Œç»´æŠ¤ã€‚
- **éšç§ä¿æŠ¤**: åˆ©ç”¨ ZK æŠ€æœ¯ä¿æŠ¤ç”¨æˆ·éšç§æ•°æ®ï¼ˆè§„åˆ’ä¸­ï¼‰ã€‚
- **å…¨æ ˆäº¤äº’**: æä¾›å®Œæ•´çš„ React å‰ç«¯ç•Œé¢ï¼Œé€šè¿‡ç”Ÿæˆçš„ SDK ä¸Žé“¾ä¸Šç¨‹åºæ— ç¼äº¤äº’ã€‚

## ðŸ’¡ æ ¸å¿ƒæ¦‚å¿µ (Core Concepts)

### 1. ä¸ºä»€ä¹ˆéœ€è¦èº«ä»½è¯æ˜Ž (Identity)?

åœ¨åŒºå—é“¾ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹åœ°å€æ˜¯åŒ¿åçš„ï¼Œç³»ç»Ÿæ— æ³•è¯†åˆ«èƒŒåŽçš„æ“ä½œè€…ã€‚

- **é˜²èŒƒå¥³å·«æ”»å‡» (Sybil Resistance)**: é˜²æ­¢æ¶æ„ç”¨æˆ·ç”Ÿæˆå¤§é‡åœ°å€è¿›è¡Œæ¬ºè¯ˆã€‚
- **çŠ¶æ€é”šå®š**: `IdentityAccount` ä¸ºé’±åŒ…åœ°å€æä¾›äº†ä¸€ä¸ªé“¾ä¸Šâ€œèº«ä»½è¯â€ï¼Œè®°å½•åˆ›å»ºæ—¶é—´ä¸ŽéªŒè¯çŠ¶æ€ï¼Œä½¿ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚ä¿¡ç”¨åˆ†ï¼‰å¯ä»¥ç»‘å®šåœ¨å›ºå®šèº«ä»½ä¸Šã€‚
- **å¯ç®¡ç†æ€§**: ç”¨æˆ·å¯ä»¥éšæ—¶å–æ¶ˆéªŒè¯æˆ–åˆ é™¤è‡ªå·±çš„èº«ä»½ï¼Œä¿æŒå¯¹ä¸ªäººæ•°æ®çš„å®Œå…¨æŽ§åˆ¶ã€‚

### 2. ä¸ºä»€ä¹ˆéœ€è¦èº«ä»½éªŒè¯ (Identity Verification)?

èº«ä»½éªŒè¯æ˜¯ä¿¡èª‰ç³»ç»Ÿçš„åŸºç¡€ï¼Œç¡®ä¿ç”¨æˆ·èº«ä»½çš„çœŸå®žæ€§å’Œå”¯ä¸€æ€§ï¼š

- **å¢žå¼ºä¿¡ä»»**: éªŒè¯è¿‡çš„èº«ä»½æ›´èƒ½è¢«å…¶ä»–ç”¨æˆ·å’Œåº”ç”¨ä¿¡ä»»ã€‚
- **å¯ç”¨é«˜çº§åŠŸèƒ½**: åªæœ‰éªŒè¯è¿‡çš„èº«ä»½æ‰èƒ½è®¡ç®—å’Œä½¿ç”¨ä¿¡ç”¨åˆ†æ•°ã€‚
- **å¯æ’¤é”€æœºåˆ¶**: ç”¨æˆ·å¯ä»¥éšæ—¶æ’¤é”€è‡ªå·±çš„èº«ä»½éªŒè¯ï¼Œä¿æŒå¯¹ä¸ªäººæ•°æ®çš„æŽ§åˆ¶ã€‚

### 3. ä¸ºä»€ä¹ˆéœ€è¦ä¿¡èª‰åˆ† (Credit Score)?

DeFi é€šå¸¸éœ€è¦è¶…é¢æŠµæŠ¼ï¼Œç¼ºä¹ä¼ ç»Ÿé‡‘èžçš„ä¿¡ç”¨è¯„ä¼°ä½“ç³»ã€‚å¼•å…¥ä¿¡èª‰åˆ†å¯ä»¥ï¼š

- **é™ä½ŽæŠµæŠ¼çŽ‡**: é«˜åˆ†ç”¨æˆ·å¯äº«å—æ›´ä¼˜çš„å€Ÿè´·æ¡ä»¶ã€‚
- **å·®å¼‚åŒ–æœåŠ¡**: DApp å¯æ ¹æ®åˆ†æ•°æä¾›åˆ†çº§æœåŠ¡ã€‚
- **æŠ—å¥³å·«æ”»å‡»**: ç»“åˆèº«ä»½éªŒè¯ï¼Œé˜²æ­¢æ¶æ„ç”¨æˆ·é€šè¿‡å¤šä¸ªè´¦æˆ·èŽ·å–é«˜åˆ†æ•°ã€‚
- **å¯ç®¡ç†æ€§**: ç”¨æˆ·å¯ä»¥éšæ—¶åˆ é™¤è‡ªå·±çš„ä¿¡ç”¨åˆ†æ•°ï¼Œä¿æŒå¯¹ä¸ªäººæ•°æ®çš„å®Œå…¨æŽ§åˆ¶ã€‚

#### å½“å‰è¯„åˆ†é€»è¾‘ (Scoring Logic)

ç›®å‰çš„è¯„åˆ†æ¨¡åž‹åŸºäºŽç”¨æˆ·çš„ **SOL æŒæœ‰é‡ (Lamports)** è¿›è¡Œè®¡ç®—ï¼Œ**ä»…å¯¹å·²éªŒè¯èº«ä»½å¯ç”¨**ï¼š

| SOL ä½™é¢   | åˆ†æ•° (Score) | ç­‰çº§ (Level) |
| :--------- | :----------- | :----------- |
| â‰¥ 10 SOL   | 90           | High         |
| â‰¥ 1 SOL    | 75           | Medium       |
| â‰¥ 0.1 SOL  | 60           | Low          |
| â‰¥ 0.01 SOL | 45           | Low          |
| å…¶ä»–       | 30           | Low          |

> _æ³¨ï¼šå½“å‰é€»è¾‘ä½äºŽåˆçº¦çš„ `src/instructions/score.rs`ï¼Œæœªæ¥å°†æ‰©å±•æ›´å¤šç»´åº¦ï¼ˆå¦‚äº¤æ˜“åŽ†å²ã€æŒæœ‰æ—¶é•¿ç­‰ï¼‰ã€‚è¯„åˆ†é€»è¾‘å·²æ¨¡å—åŒ–ï¼Œä¾¿äºŽæœªæ¥å‡çº§ã€‚_

## ðŸ›  æŠ€æœ¯æ ˆ (Tech Stack)

- **Smart Contract**: [Solana](https://solana.com/), [Anchor Framework](https://www.anchor-lang.com/), Rust
- **Frontend**: [React](https://react.dev/), [Vite](https://vitejs.dev/), [Tailwind CSS](https://tailwindcss.com/)
- **SDK Generation**: [Codama](https://github.com/codama-idl/codama)
- **State Management**: Zustand

## ðŸ“‹ çŽ¯å¢ƒè¦æ±‚ (Prerequisites)

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘çŽ¯å¢ƒå·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

- **Node.js** (å»ºè®® v18+)
- **Rust & Cargo** (æœ€æ–°ç¨³å®šç‰ˆ)
- **Solana CLI** (v1.16+)
- **Anchor AVM** (æœ€æ–°ç‰ˆ)

## ðŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install
```

### 2. æœ¬åœ°çŽ¯å¢ƒè®¾ç½®

å¯åŠ¨æœ¬åœ° Solana æµ‹è¯•ç½‘ï¼ˆå¦‚æžœæ‚¨è¿˜æ²¡æœ‰è¿è¡Œï¼‰ï¼š

```bash
solana-test-validator
```

### 3. æž„å»ºä¸Žéƒ¨ç½²

é¡¹ç›®æä¾›äº†ä¸€ä¸ªä¾¿æ·çš„è®¾ç½®è„šæœ¬ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å®Œæˆåˆçº¦æž„å»ºã€éƒ¨ç½²ï¼ˆæœ¬åœ°ï¼‰å’Œ SDK ç”Ÿæˆï¼š

```bash
# æž„å»ºåˆçº¦å¹¶ç”Ÿæˆ SDK
npm run setup
```

æˆ–è€…æ‚¨å¯ä»¥æ‰‹åŠ¨åˆ†æ­¥æ‰§è¡Œï¼š

```bash
# 1. æž„å»º Anchor ç¨‹åº
npm run anchor-build

# 2. ç”Ÿæˆ TypeScript SDK (ç¡®ä¿ anchor build å·²æˆåŠŸç”Ÿæˆ IDL)
npm run codama:js
```

### 4. å¯åŠ¨å‰ç«¯

```bash
npm run dev
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173` å³å¯çœ‹åˆ°åº”ç”¨ç•Œé¢ã€‚

## ðŸ“‚ é¡¹ç›®ç»“æž„ (Project Structure)

```
.
â”œâ”€â”€ anchor/                 # Solana æ™ºèƒ½åˆçº¦ (Anchor é¡¹ç›®)
â”‚   â”œâ”€â”€ programs/           # åˆçº¦æºç  (Rust)
â”‚   â”‚   â””â”€â”€ identity_score/ # èº«ä»½ä¸Žä¿¡ç”¨åˆ†æ•°åˆçº¦
â”‚   â”‚       â”œâ”€â”€ src/
â”‚   â”‚       â”‚   â”œâ”€â”€ constants.rs      # å¸¸é‡å®šä¹‰
â”‚   â”‚       â”‚   â”œâ”€â”€ errors.rs         # é”™è¯¯å®šä¹‰
â”‚   â”‚       â”‚   â”œâ”€â”€ instructions/     # æŒ‡ä»¤å¤„ç†é€»è¾‘
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ identity.rs   # èº«ä»½ç®¡ç†æŒ‡ä»¤
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ score.rs      # ä¿¡ç”¨è¯„åˆ†æŒ‡ä»¤
â”‚   â”‚       â”‚   â”œâ”€â”€ lib.rs            # åˆçº¦å…¥å£
â”‚   â”‚       â”‚   â”œâ”€â”€ state.rs          # è´¦æˆ·çŠ¶æ€å®šä¹‰
â”‚   â”‚       â”‚   â””â”€â”€ tests.rs          # åˆçº¦æµ‹è¯•
â”‚   â”‚       â””â”€â”€ Cargo.toml
â”‚   â””â”€â”€ Anchor.toml         # Anchor é…ç½®æ–‡ä»¶
â”œâ”€â”€ src/                    # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ generated/          # Codama è‡ªåŠ¨ç”Ÿæˆçš„ SDK (ä¸è¦æ‰‹åŠ¨ä¿®æ”¹)
â”‚   â”‚   â”œâ”€â”€ accounts/       # è´¦æˆ·ç±»åž‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ instructions/   # æŒ‡ä»¤ç¼–ç å™¨
â”‚   â”‚   â”œâ”€â”€ programs/       # ç¨‹åºåœ°å€å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ shared/         # å…±äº«å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/          # è‡ªå®šä¹‰ç±»åž‹å®šä¹‰
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/              # React è‡ªå®šä¹‰é’©å­
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ App.tsx             # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ main.tsx            # æ¸²æŸ“å…¥å£
â”œâ”€â”€ codama.json             # SDK ç”Ÿæˆå™¨é…ç½®
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–ä¸Žè„šæœ¬é…ç½®
â””â”€â”€ tsconfig.json           # TypeScript é…ç½®
```

## ðŸ“œ å¸¸ç”¨è„šæœ¬ (Scripts)

- `npm run dev`: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ã€‚
- `npm run build`: æž„å»ºå‰ç«¯ç”Ÿäº§ç‰ˆæœ¬ï¼ˆTypeScript ç¼–è¯‘ + Vite æž„å»ºï¼‰ã€‚
- `npm run anchor-build`: ä»…æž„å»º Solana åˆçº¦ã€‚
- `npm run anchor-test`: è¿è¡Œåˆçº¦æµ‹è¯•ï¼ˆè·³è¿‡éƒ¨ç½²ï¼‰ã€‚
- `npm run codama:js`: ä»…æ ¹æ® IDL ç”Ÿæˆå‰ç«¯ SDKã€‚
- `npm run setup`: æ‰§è¡Œå®Œæ•´çš„æž„å»ºå’Œç”Ÿæˆæµç¨‹ï¼ˆåˆçº¦æž„å»º + SDK ç”Ÿæˆï¼‰ã€‚
- `npm run lint`: è¿è¡Œ ESLint æ£€æŸ¥ä»£ç è´¨é‡ã€‚
- `npm run format`: ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç ã€‚
- `npm run format:check`: æ£€æŸ¥ä»£ç æ ¼å¼æ˜¯å¦ç¬¦åˆ Prettier è§„èŒƒã€‚
- `npm run preview`: é¢„è§ˆç”Ÿäº§æž„å»ºç‰ˆæœ¬ã€‚
- `npm run ci`: æ‰§è¡Œ CI æ£€æŸ¥ï¼ˆæž„å»º +  lint + æ ¼å¼æ£€æŸ¥ï¼‰ã€‚

## ðŸ¤ è´¡çŒ® (Contributing)

æ¬¢è¿Žæäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›æœ¬é¡¹ç›®ï¼

>npx tsc --noEmit